<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>stumpless: element.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">stumpless
   &#160;<span id="projectnumber">2.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">element.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;<a class="el" href="config_8h_source.html">stumpless/config.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="entry_8h_source.html">stumpless/entry.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="param_8h_source.html">stumpless/param.h</a>&gt;</code><br />
</div>
<p><a href="element_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstumpless__element.html">stumpless_element</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An element of structured data.  <a href="structstumpless__element.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a64be50a804bce45f249d083c5d4dff5e"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="memory_8h.html#a1de1ad716e56455dd12745e3f014b642">size_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="element_8h.html#a64be50a804bce45f249d083c5d4dff5e">stumpless_element_namer_func_t</a>) (const struct <a class="el" href="structstumpless__entry.html">stumpless_entry</a> *<a class="el" href="target_8h.html#a22871e414a8307a6a7fb3c16bd8be352">entry</a>, <a class="el" href="memory_8h.html#a1de1ad716e56455dd12745e3f014b642">size_t</a> <a class="el" href="journald_8h.html#a5955d0480797829083f892fa0088d378">element_index</a>, char *<a class="el" href="network_8h.html#a85ec2713f151aae36f5bb52e65bac06d">destination</a>, <a class="el" href="memory_8h.html#a1de1ad716e56455dd12745e3f014b642">size_t</a> <a class="el" href="journald_8h.html#a6837099587860e983606ba8fc960066e">size</a>)</td></tr>
<tr class="memdesc:a64be50a804bce45f249d083c5d4dff5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the name to use for the journald field corresponding to this element.  <a href="element_8h.html#a64be50a804bce45f249d083c5d4dff5e">More...</a><br /></td></tr>
<tr class="separator:a64be50a804bce45f249d083c5d4dff5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adf2a507a6ce9282b6f9467c3def6f73d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="element_8h.html#adf2a507a6ce9282b6f9467c3def6f73d">__attribute__</a> ((visibility(&quot;default&quot;))) struct <a class="el" href="structstumpless__element.html">stumpless_element</a> *stumpless_add_new_param(struct <a class="el" href="structstumpless__element.html">stumpless_element</a> *<a class="el" href="entry_8h.html#ae302f38ae66dc6f5114c6ff6c6dffc16">element</a></td></tr>
<tr class="memdesc:adf2a507a6ce9282b6f9467c3def6f73d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new param and adds it to the given element.  <a href="element_8h.html#adf2a507a6ce9282b6f9467c3def6f73d">More...</a><br /></td></tr>
<tr class="separator:adf2a507a6ce9282b6f9467c3def6f73d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af32395ab34317d3a3beacc48945ad1fe"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="element_8h.html#af32395ab34317d3a3beacc48945ad1fe">param_name</a></td></tr>
<tr class="separator:af32395ab34317d3a3beacc48945ad1fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0361fa0cd8b559f8c9c7ef071bffc47"><td class="memItemLeft" align="right" valign="top">const char const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="element_8h.html#af0361fa0cd8b559f8c9c7ef071bffc47">param_value</a></td></tr>
<tr class="separator:af0361fa0cd8b559f8c9c7ef071bffc47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaefd1f48439416273495ec23a1b96eac"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structstumpless__param.html">stumpless_param</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="element_8h.html#aaefd1f48439416273495ec23a1b96eac">param</a></td></tr>
<tr class="separator:aaefd1f48439416273495ec23a1b96eac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcd1706c9144e6d6eee6127661ae3be2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="element_8h.html#afcd1706c9144e6d6eee6127661ae3be2">name</a></td></tr>
<tr class="separator:afcd1706c9144e6d6eee6127661ae3be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f42f10d93f6edb91d7d3f6edad25921"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory_8h.html#a1de1ad716e56455dd12745e3f014b642">size_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="element_8h.html#a3f42f10d93f6edb91d7d3f6edad25921">index</a></td></tr>
<tr class="separator:a3f42f10d93f6edb91d7d3f6edad25921"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92d544bd66c050551f3d87fa55eb3f5d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="memory_8h.html#a1de1ad716e56455dd12745e3f014b642">size_t</a> const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="element_8h.html#a92d544bd66c050551f3d87fa55eb3f5d">value</a></td></tr>
<tr class="separator:a92d544bd66c050551f3d87fa55eb3f5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Types and functions for creating and modifying elements. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a64be50a804bce45f249d083c5d4dff5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64be50a804bce45f249d083c5d4dff5e">&#9670;&nbsp;</a></span>stumpless_element_namer_func_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="memory_8h.html#a1de1ad716e56455dd12745e3f014b642">size_t</a>( * stumpless_element_namer_func_t) (const struct <a class="el" href="structstumpless__entry.html">stumpless_entry</a> *<a class="el" href="target_8h.html#a22871e414a8307a6a7fb3c16bd8be352">entry</a>, <a class="el" href="memory_8h.html#a1de1ad716e56455dd12745e3f014b642">size_t</a> <a class="el" href="journald_8h.html#a5955d0480797829083f892fa0088d378">element_index</a>, char *<a class="el" href="network_8h.html#a85ec2713f151aae36f5bb52e65bac06d">destination</a>, <a class="el" href="memory_8h.html#a1de1ad716e56455dd12745e3f014b642">size_t</a> <a class="el" href="journald_8h.html#a6837099587860e983606ba8fc960066e">size</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the name to use for the journald field corresponding to this element. </p>
<p>If the destination buffer is too small to hold the complete name, then nothing should be done. Callers must be able to detect this by comparing the return value to the value provided in the size argument. If the return value is larger, then the name was not written into destination.</p>
<p><b>Thread Safety: MT-Unsafe</b> This function need not be thread safe. It will be called when locks are already held on the entry and element in question, and therefore should not use any functions that will attempt to lock any of these as this will result in deadlock.</p>
<p><b>Async Signal Safety: AS-Safe</b> This function must be safe to call from signal handlers.</p>
<p><b>Async Cancel Safety: AC-Safe</b> This function must be safe to call from threads that may be asynchronously cancelled.</p>
<dl class="section since"><dt>Since</dt><dd>v2.1.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entry</td><td>The entry that the param is part of.</td></tr>
    <tr><td class="paramname">element_index</td><td>The index of the element in the entry.</td></tr>
    <tr><td class="paramname">destination</td><td>The buffer to write the name to.</td></tr>
    <tr><td class="paramname">size</td><td>The maximum number of bytes to write to the destination buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes needed to write the complete name, not including a NULL terminating character. If this is greater than size, then it signifies that nothing was done. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="adf2a507a6ce9282b6f9467c3def6f73d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf2a507a6ce9282b6f9467c3def6f73d">&#9670;&nbsp;</a></span>__attribute__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__attribute__ </td>
          <td>(</td>
          <td class="paramtype">(visibility(&quot;default&quot;))&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new param and adds it to the given element. </p>
<p>Closes a file target.</p>
<p>Returns name and params from element as a formatted string.</p>
<p>Sets the value of the first param with the given name in the given element.</p>
<p>Sets the value of the param at the given index in the given element.</p>
<p>Puts the param at the given index in the given element.</p>
<p>Sets the name of the given element.</p>
<p>Creates a new element with the given name.</p>
<p>Returns the value of the first param with the given name in the given element.</p>
<p>Returns the value of the param at the given index in the given element.</p>
<p>Gives the number of params with the given name found in the given element.</p>
<p>Gets the name of the param with the given index in this element.</p>
<p>Gives the index of the first occurrence of a param with the given name in the given element.</p>
<p>Returns the number of params in the given element.</p>
<p>Returns the first occurrence of a param with the given name in element, if it is found.</p>
<p>Returns the param in the given element at the specified index.</p>
<p>Returns the name of the given element.</p>
<p>True if the given element has a param with the given name, false otherwise.</p>
<p>Destroys an element, freeing any allocated memory.</p>
<p>Destroys an element as well as all params that it contains, freeing any allocated memory.</p>
<p>An alias for stumpless_destroy_element_and_contents.</p>
<p>Creates a copy of an element.</p>
<p>Adds a param to an element.</p>
<p>This is equivalent to calling stumpless_new_param and passing the result directly stumpless_add_param.</p>
<p><b>Thread Safety: MT-Safe race:param_name race:param_value</b> This function is thread safe, of course assuming that the param name and value or not changed by other threads during execution. A mutex is used to coordinate updates to the element with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access and the use of memory management functions to create the new param.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked as well as memory management functions.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to add the new param to.</td></tr>
    <tr><td class="paramname">param_name</td><td>The name of the new param.</td></tr>
    <tr><td class="paramname">param_value</td><td>The value of the new param.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The modified element if no error is encountered. If an error is encountered, then NULL is returned and an error code is set appropriately.</dd></dl>
<p><b>Thread Safety: MT-Safe</b> This function is thread safe. A mutex is used to coordinate updates to the element with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access and the use of memory management functions to adjust the array of params in the element.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked as well as memory management functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to add the param to.</td></tr>
    <tr><td class="paramname">param</td><td>The param to add to element.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The modified element if no error is encountered. If an error is encountered, then NULL is returned and an error code is set appropriately.</dd></dl>
<p>Copies of elements are 'deep' in that the copy also copies each of the params that the original element has, if any. This means that even if the params of the original element are destroyed, the equivalent ones in this element will still be valid.</p>
<p><b>Thread Safety: MT-Safe</b> This function is thread safe. A mutex is used to coordinate the read of the element with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access and the use of memory management functions to create the copy.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked as well as memory management functions.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to copy.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new element that is a deep copy of the original. If an error is encountered, then NULL is returned and an error code is set appropriately.</dd></dl>
<p><b>Thread Safety: MT-Unsafe</b> This function is not thread safe as it destroys resources that other threads would use if they tried to reference this struct.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the destruction of a lock that may be in use as well as the use of the memory deallocation function to release memory.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, as the cleanup of the lock may not be completed, and the memory deallocation function may not be AC-Safe itself.</p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd>This function has been deprecated in favor of the more descriptive and deliberate stumpless_destroy_element_and_contents and stumpless_destroy_element_only functions in order to avoid unintentional memory leaks and use-after-free mistakes.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to destroy.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Thread Safety: MT-Unsafe</b> This function is not thread safe as it destroys resources that other threads would use if they tried to reference this struct.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the destruction of a lock that may be in use as well as the use of the memory deallocation function to release memory.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, as the cleanup of the lock may not be completed, and the memory deallocation function may not be AC-Safe itself.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>The element to destroy.</td></tr>
  </table>
  </dd>
</dl>
<p>Associated params are left untouched, and must be destroyed separately.</p>
<p><b>Thread Safety: MT-Unsafe</b> This function is not thread safe as it destroys resources that other threads would use if they tried to reference this struct.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the destruction of a lock that may be in use as well as the use of the memory deallocation function to release memory.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, as the cleanup of the lock may not be completed, and the memory deallocation function may not be AC-Safe itself.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to destroy.</td></tr>
  </table>
  </dd>
</dl>
<p><b>Thread Safety: MT-Safe race:name</b> This function is thread safe, of course assuming that name is not changed by another thread during execution. A mutex is used to coordinate access to the element with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to search for the param.</td></tr>
    <tr><td class="paramname">name</td><td>The name of the param to check for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if no error is encountered and the param is found. If the param is not found or an error is encountered, then false is returned and an error code is set appropriately.</dd></dl>
<p>The character buffer must be freed by the caller when it is no longer needed to avoid memory leaks.</p>
<p>In versions prior to v2.0.0, the returned pointer was to the internal buffer used to store the name and was not to be modified by the caller. This behavior changed in v2.0.0 in order to avoid thread safety issues.</p>
<p><b>Thread Safety: MT-Safe</b> This function is thread safe. A mutex is used to coordinate the read of the element with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access and the use of memory management functions to create the result.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked as well as memory management functions.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to get the name from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The name of the element, if no error is encountered. If an error is encountered, then NULL is returned and an error code is set appropriately.</dd></dl>
<p><b>Thread Safety: MT-Safe</b> This function is thread safe. A mutex is used to coordinate access to the element with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to get the param from.</td></tr>
    <tr><td class="paramname">index</td><td>The index of the param to retrieve.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The param if no error is encountered. If an error is encountered, then NULL is returned and an error code is set appropriately.</dd></dl>
<p>Note that an element may contain as many instances of a param as desired according to RFC 5424, and therefore there may be other param instances with the same name. If you simply need a count of params with a given name, then you can use stumpless_get_param_name_count to find this. If you need a reference to any other params, then you must loop through all params in the element using stumpless_get_param_by_index, checking each name.</p>
<p><b>Thread Safety: MT-Safe race:name</b> This function is thread safe, of course assuming that name is not changed by another thread during execution. A mutex is used to coordinate access to the element with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to search.</td></tr>
    <tr><td class="paramname">name</td><td>The param name to search for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The param if it is found in the element, or NULL otherwise. If an error was encountered, then NULL is returned and an error code is set appropriately.</dd></dl>
<p><b>Thread Safety: MT-Safe</b> This function is thread safe. A mutex is used to coordinate access to the element with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to get the param count of.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of params element has. If there is an error, zero is returned and an error code is set appropriately.</dd></dl>
<p>Note that an element may contain as many instances of a param as desired according to RFC 5424, and therefore there may be other param instances that this function does not recognize. If you simply need a count of params with a given name, then you can use stumpless_get_param_name_count to find this. If you need a reference to any other params, then you must loop through all params in the element using stumpless_get_param_by_index, checking each name.</p>
<p><b>Thread Safety: MT-Safe race:name</b> This function is thread safe, of course assuming that name is not changed by another thread during execution. A mutex is used to coordinate access to the element with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to search for params with the given name.</td></tr>
    <tr><td class="paramname">name</td><td>The name to search params for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The first instance of a param with name in element, if one exists. If there is no such param or an error is encountered, NULL is returned and an error code is set appropriately.</dd></dl>
<p>The result character buffer must be freed by the caller when it is no longer needed to avoid memory leaks.</p>
<p>In versions prior to v2.0.0, the returned pointer was to the internal buffer used to store the name and was not to be modified by the caller. This behavior changed in v2.0.0 in order to avoid thread safety issues.</p>
<p><b>Thread Safety: MT-Safe</b> This function is thread safe. A mutex is used to coordinate the read of the element with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access and the use of memory management functions to create the result.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked as well as memory management functions.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to get the param and name from.</td></tr>
    <tr><td class="paramname">index</td><td>The index of the param to get the name from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The name of the param at the given index, if no error is encountered. If an error is encountered, NULL is returned and an error code is set appropriately.</dd></dl>
<p>If you need to get an actual reference to any of these params beyond the first one, then you will need to loop through all params in the element using stumpless_get_param_by_index, checking each name.</p>
<p><b>Thread Safety: MT-Safe race:name</b> This function is thread safe, of course assuming that name is not changed by another thread during execution. A mutex is used to coordinate access to the element with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to search for params.</td></tr>
    <tr><td class="paramname">name</td><td>The name to look for in params.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of params found with the given name in the given element. If an error is encountered, zero is returned and an error code is set appropriately.</dd></dl>
<p>The result character buffer must be freed by the caller when it is no longer needed to avoid memory leaks.</p>
<p>In versions prior to v2.0.0, the returned pointer was to the internal buffer used to store the value and was not to be modified by the caller. This behavior changed in v2.0.0 in order to avoid thread safety issues.</p>
<p><b>Thread Safety: MT-Safe</b> This function is thread safe. A mutex is used to coordinate the read of the element with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access and the use of memory management functions to create the result.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked as well as memory management functions.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to retrieve the param and value from.</td></tr>
    <tr><td class="paramname">index</td><td>The index of the param to get the value from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The value of the param at the given index, if no error is encountered. If an error is encountered, then NULL is returned and an error code is set appropriately.</dd></dl>
<p>The result character buffer must be freed by the caller when it is no longer needed to avoid memory leaks.</p>
<p>In versions prior to v2.0.0, the returned pointer was to the internal buffer used to store the value and was not to be modified by the caller. This behavior changed in v2.0.0 in order to avoid thread safety issues.</p>
<p><b>Thread Safety: MT-Safe</b> This function is thread safe. A mutex is used to coordinate the read of the element with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access and the use of memory management functions to create the result.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked as well as memory management functions.</p>
<p>If you need to get the value of a param with the given name beyond the first one, then you will need to loop through all params in the element using stumpless_get_param_by_index, checking each name.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to retrieve the param and value from.</td></tr>
    <tr><td class="paramname">name</td><td>The name of the param to get the value from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The value of the first param with the given name, if no error is encountered. If an error is encountered, then NULL is returned and an error code is set appropriately.</dd></dl>
<p><b>Thread Safety: MT-Safe race:name</b> This function is thread safe, of course assuming that name is not changed by other threads during execution.</p>
<p><b>Async Signal Safety: AS-Unsafe heap</b> This function is not safe to call from signal handlers due to the use of memory management functions to create the new element.</p>
<p><b>Async Cancel Safety: AC-Unsafe heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of memory management functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The new name of the element. Valid name should have printable ASCII charecters expect '=', ']' , '"' and should be 32 charecters long</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The created element, if no error is encountered. If an error is encountered, then NULL is returned and an error code set appropriately.</dd></dl>
<p><b>Thread Safety: MT-Safe race:name</b> This function is thread safe. A mutex is used to coordinate changes to the element with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access and the use of memory management functions.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked as well as memory management functions.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to set the name of.</td></tr>
    <tr><td class="paramname">name</td><td>The new name of the element. Valid name should have printable ASCII charecters expect '=', ']' , '"' and should be 32 charecters long</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The modified element, if no error is encountered. If an error is encountered, then NULL is returned and an error code is set appropriately.</dd></dl>
<p>The parameter previously at this position will be removed from the element, but it is NOT destroyed by this call. Callers must clean up this param separately.</p>
<p>A param cannot be set at an index position that does not already hold a param. If this is attempted, then a STUMPLESS_INDEX_OUT_OF_BOUNDS error is raised.</p>
<p><b>Thread Safety: MT-Safe</b> This function is thread safe. A mutex is used to coordinate changes to the element with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to set the param on.</td></tr>
    <tr><td class="paramname">index</td><td>The index to set to param.</td></tr>
    <tr><td class="paramname">param</td><td>The param to set at the given index.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The modified element, if no error is encountered. If an error is encountered, then NULL is returned and an error code is set appropriately.</dd></dl>
<p><b>Thread Safety: MT-Safe race:value</b> This function is thread safe, of course assuming that the value is not changed during execution by another thread. A mutex is used to coordinate changes to the element with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access and the use of memory management functions.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked as well as memory management functions.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to set the param on.</td></tr>
    <tr><td class="paramname">index</td><td>The index of the param to set the value of.</td></tr>
    <tr><td class="paramname">value</td><td>The new value to set on the param.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The modified element, if no error is encountered. If an error is encountered, then NULL is returned and an error code is set appropriately.</dd></dl>
<p>If a param of the given name is not found in the element, one is created with the supplied name and value and added to the end of the element.</p>
<p>If you need to set the value of a param with this name other than the first one, then you will need to loop through the params using stumpless_get_param_by_index to find the params you want and then set the value using stumpless_set_param_value.</p>
<p><b>Thread Safety: MT-Safe race:name race:value</b> This function is thread safe, of course assuming that the name and value are not changed during execution by another thread.. A mutex is used to coordinate changes to the element with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access and the use of memory management functions.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked as well as memory management functions.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to set the param on.</td></tr>
    <tr><td class="paramname">name</td><td>The name of the param to set the value of (or create).</td></tr>
    <tr><td class="paramname">value</td><td>The new value to set on the param..</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The modified element, if no error is encountered. If an error is encountered, then NULL is returned and an error code is set appropriately.</dd></dl>
<p>The character buffer should be freed when no longer is needed by the caller.</p>
<p><b>Thread Safety: MT-Safe</b> This function is thread safe. A mutex is used to coordinate the read of the element with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access and the use of memory management functions to create the result.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked as well as memory management functions.</p>
<dl class="section since"><dt>Since</dt><dd>release v2.1.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to get the name and params from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The formatted string of &lt;name&gt; or &lt;name&gt;:[param1,...] if no error is encountered. If an error is encountered, then NULL is returned and an error code is set appropriately. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a3f42f10d93f6edb91d7d3f6edad25921"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f42f10d93f6edb91d7d3f6edad25921">&#9670;&nbsp;</a></span>index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory_8h.html#a1de1ad716e56455dd12745e3f014b642">size_t</a> index</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afcd1706c9144e6d6eee6127661ae3be2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcd1706c9144e6d6eee6127661ae3be2">&#9670;&nbsp;</a></span>name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * name</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aaefd1f48439416273495ec23a1b96eac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaefd1f48439416273495ec23a1b96eac">&#9670;&nbsp;</a></span>param</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="memory_8h.html#a1de1ad716e56455dd12745e3f014b642">size_t</a> struct <a class="el" href="structstumpless__param.html">stumpless_param</a>* param</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af32395ab34317d3a3beacc48945ad1fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af32395ab34317d3a3beacc48945ad1fe">&#9670;&nbsp;</a></span>param_name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char const char * param_name</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af0361fa0cd8b559f8c9c7ef071bffc47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0361fa0cd8b559f8c9c7ef071bffc47">&#9670;&nbsp;</a></span>param_value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char const char* param_value</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a92d544bd66c050551f3d87fa55eb3f5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92d544bd66c050551f3d87fa55eb3f5d">&#9670;&nbsp;</a></span>value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * value</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Oct 10 2022 21:47:44 for stumpless by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.19
</small></address>
</body>
</html>
