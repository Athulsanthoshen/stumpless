<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>stumpless: param.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">stumpless
   &#160;<span id="projectnumber">2.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">param.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;<a class="el" href="config_8h_source.html">stumpless/config.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="entry_8h_source.html">stumpless/entry.h</a>&gt;</code><br />
</div>
<p><a href="param_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structstumpless__param.html">stumpless_param</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A parameter within a structured data element.  <a href="structstumpless__param.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ae7e27acffda96b10a846445b17251892"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="memory_8h.html#a1de1ad716e56455dd12745e3f014b642">size_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="param_8h.html#ae7e27acffda96b10a846445b17251892">stumpless_param_namer_func_t</a>) (const struct <a class="el" href="structstumpless__entry.html">stumpless_entry</a> *<a class="el" href="target_8h.html#a22871e414a8307a6a7fb3c16bd8be352">entry</a>, <a class="el" href="memory_8h.html#a1de1ad716e56455dd12745e3f014b642">size_t</a> <a class="el" href="journald_8h.html#a5955d0480797829083f892fa0088d378">element_index</a>, <a class="el" href="memory_8h.html#a1de1ad716e56455dd12745e3f014b642">size_t</a> <a class="el" href="journald_8h.html#ab56d638ecaf218130feae1222363f941">param_index</a>, char *<a class="el" href="network_8h.html#a85ec2713f151aae36f5bb52e65bac06d">destination</a>, <a class="el" href="memory_8h.html#a1de1ad716e56455dd12745e3f014b642">size_t</a> <a class="el" href="journald_8h.html#a6837099587860e983606ba8fc960066e">size</a>)</td></tr>
<tr class="memdesc:ae7e27acffda96b10a846445b17251892"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the name to use for the journald field corresponding to this param.  <a href="param_8h.html#ae7e27acffda96b10a846445b17251892">More...</a><br /></td></tr>
<tr class="separator:ae7e27acffda96b10a846445b17251892"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a04f34b311bbc06e3072780af7420d343"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="param_8h.html#a04f34b311bbc06e3072780af7420d343">__attribute__</a> ((visibility(&quot;default&quot;))) struct <a class="el" href="structstumpless__param.html">stumpless_param</a> *stumpless_copy_param(const struct <a class="el" href="structstumpless__param.html">stumpless_param</a> *<a class="el" href="entry_8h.html#ad4fd7fc769d1b4ec9c9e8d7460f2cea0">param</a>)</td></tr>
<tr class="memdesc:a04f34b311bbc06e3072780af7420d343"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a copy of a param.  <a href="param_8h.html#a04f34b311bbc06e3072780af7420d343">More...</a><br /></td></tr>
<tr class="separator:a04f34b311bbc06e3072780af7420d343"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8556878012feffc9e0beb86cd78f424d"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="param_8h.html#a8556878012feffc9e0beb86cd78f424d">value</a></td></tr>
<tr class="separator:a8556878012feffc9e0beb86cd78f424d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f8f80d37794cde9472343e4487ba3eb"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="param_8h.html#a8f8f80d37794cde9472343e4487ba3eb">name</a></td></tr>
<tr class="separator:a8f8f80d37794cde9472343e4487ba3eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Types and functions for creating and modifying params. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="ae7e27acffda96b10a846445b17251892"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7e27acffda96b10a846445b17251892">&#9670;&nbsp;</a></span>stumpless_param_namer_func_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="memory_8h.html#a1de1ad716e56455dd12745e3f014b642">size_t</a>( * stumpless_param_namer_func_t) (const struct <a class="el" href="structstumpless__entry.html">stumpless_entry</a> *<a class="el" href="target_8h.html#a22871e414a8307a6a7fb3c16bd8be352">entry</a>, <a class="el" href="memory_8h.html#a1de1ad716e56455dd12745e3f014b642">size_t</a> <a class="el" href="journald_8h.html#a5955d0480797829083f892fa0088d378">element_index</a>, <a class="el" href="memory_8h.html#a1de1ad716e56455dd12745e3f014b642">size_t</a> <a class="el" href="journald_8h.html#ab56d638ecaf218130feae1222363f941">param_index</a>, char *<a class="el" href="network_8h.html#a85ec2713f151aae36f5bb52e65bac06d">destination</a>, <a class="el" href="memory_8h.html#a1de1ad716e56455dd12745e3f014b642">size_t</a> <a class="el" href="journald_8h.html#a6837099587860e983606ba8fc960066e">size</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the name to use for the journald field corresponding to this param. </p>
<p>If the destination buffer is too small to hold the complete name, then nothing should be done. Callers must be able to detect this by comparing the return value to the value provided in the size argument. If the return value is larger, then the name was not written into destination.</p>
<p><b>Thread Safety: MT-Unsafe</b> This function need not be thread safe. It will be called when locks are already held on the entry, element, and param in question, and therefore should not use any functions that will attempt to lock any of these as this will result in deadlock.</p>
<p><b>Async Signal Safety: AS-Safe</b> This function must be safe to call from signal handlers.</p>
<p><b>Async Cancel Safety: AC-Safe</b> This function must be safe to call from threads that may be asynchronously cancelled.</p>
<dl class="section since"><dt>Since</dt><dd>v2.1.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entry</td><td>The entry that the param is part of.</td></tr>
    <tr><td class="paramname">element_index</td><td>The index of the element in the entry.</td></tr>
    <tr><td class="paramname">param_index</td><td>The index of the param within the element.</td></tr>
    <tr><td class="paramname">destination</td><td>The buffer to write the name to.</td></tr>
    <tr><td class="paramname">size</td><td>The maximum number of bytes to write to the destination buffer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes needed to write the complete name, not including a NULL terminating character. If this is greater than size, then it signifies that nothing was done. </dd></dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a04f34b311bbc06e3072780af7420d343"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04f34b311bbc06e3072780af7420d343">&#9670;&nbsp;</a></span>__attribute__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__attribute__ </td>
          <td>(</td>
          <td class="paramtype">(visibility(&quot;default&quot;))&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a copy of a param. </p>
<p>Gets the string representation of the given severity.</p>
<p>Gets the string representation of the given facility.</p>
<p>Retrieves the error encountered by the last library call.</p>
<p>Returns the name and the value from param as a formatted string.</p>
<p>Sets the value of the given param.</p>
<p>Sets the name of the given param.</p>
<p>Creates a new param with the given name and value.</p>
<p>Returns the value of the given param.</p>
<p>Returns the name of the given param.</p>
<p>Destroys a param, freeing any allocated memory.</p>
<p><b>Thread Safety: MT-Safe</b> This function is thread safe. A mutex is used to coordinate the read of the param with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access and the use of memory management functions to create the copy.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked as well as memory management functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>The param to copy.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new param that is a copy of the original. If an error is encountered, then NULL is returned and an error code is set appropriately.</dd></dl>
<p><b>Thread Safety: MT-Unsafe</b> This function is not thread safe as it destroys resources that other threads would use if they tried to reference this struct.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the destruction of a lock that may be in use as well as the use of the memory deallocation function to release memory.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, as the cleanup of the lock may not be completed, and the memory deallocation function may not be AC-Safe itself.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>The param to destroy.</td></tr>
  </table>
  </dd>
</dl>
<p>The character buffer must be freed by the caller when it is no longer needed to avoid memory leaks.</p>
<p>In versions prior to v2.0.0, the returned pointer was to the internal buffer used to store the name and was not to be modified by the caller. This behavior changed in v2.0.0 in order to avoid thread safety issues.</p>
<p><b>Thread Safety: MT-Safe</b> This function is thread safe. A mutex is used to coordinate the read of the param with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access and the use of memory management functions to create the result.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked as well as memory management functions.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>The param to get the name from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The name of param, if no error is encountered. If an error is encountered, then NULL is returned and an error code is set appropriately.</dd></dl>
<p>The character buffer must be freed by the caller when it is no longer needed to avoid memory leaks.</p>
<p>In versions prior to v2.0.0, the returned pointer was to the internal buffer used to store the value and was not to be modified by the caller. This behavior changed in v2.0.0 in order to avoid thread safety issues.</p>
<p><b>Thread Safety: MT-Safe</b> This function is thread safe. A mutex is used to coordinate the read of the param with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access and the use of memory management functions to create the result.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked as well as memory management functions.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>The param to get the value from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The value of param, if no error is encountered. If an error is encountered, then NULL is returned and an error code is set appropriately.</dd></dl>
<p><b>Thread Safety: MT-Safe race:name race:value</b> This function is thread safe, of course assuming that name and value are not changed by other threads during execution.</p>
<p><b>Async Signal Safety: AS-Unsafe heap</b> This function is not safe to call from signal handlers due to the use of memory management functions to create the new param.</p>
<p><b>Async Cancel Safety: AC-Unsafe heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of memory management functions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the new param. Restricted to printable ASCII characters different from '=', ']' and '"'.</td></tr>
    <tr><td class="paramname">value</td><td>The value of the new param.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The created param, if no error is encountered. If an error is encountered, then NULL is returned and an error code set appropriately.</dd></dl>
<p><b>Thread Safety: MT-Safe</b> This function is thread safe. A mutex is used to coordinate changes to the param while it is being modified.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate changes and the use of memory management functions to create the new name and free the old one.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked as well as memory management functions.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>The param to set the name of.</td></tr>
    <tr><td class="paramname">name</td><td>The new name of param. Restricted to printable ASCII characters different from '=', ']' and '"'.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The modified param, if no error is encountered. If an error is encountered, then NULL is returned and an error code is set appropriately.</dd></dl>
<p><b>Thread Safety: MT-Safe</b> This function is thread safe. A mutex is used to coordinate changes to the param while it is being modified.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate changes and the use of memory management functions to create the new value and free the old one.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked as well as memory management functions.</p>
<dl class="section since"><dt>Since</dt><dd>release v1.6.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>The param to set the value of.</td></tr>
    <tr><td class="paramname">value</td><td>The new name of param.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The modified param, if no error is encountered. If an error is encountered, then NULL is returned and an error code is set appropriately.</dd></dl>
<p>The character buffer should be freed when no longer is needed by the caller.</p>
<p><b>Thread Safety: MT-Safe</b> This function is thread safe. A mutex is used to coordinate the read of the param with other accesses and modifications.</p>
<p><b>Async Signal Safety: AS-Unsafe lock heap</b> This function is not safe to call from signal handlers due to the use of a non-reentrant lock to coordinate access and the use of memory management functions to create the result.</p>
<p><b>Async Cancel Safety: AC-Unsafe lock heap</b> This function is not safe to call from threads that may be asynchronously cancelled, due to the use of a lock that could be left locked as well as memory management functions.</p>
<dl class="section since"><dt>Since</dt><dd>release v2.0.0</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">param</td><td>The param to get the name and the value from.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The formatted string of &lt;name&gt;: </dd></dl>
<p>if no error is encountered. If an error is encountered, then NULL is returned and an error code is set appropriately. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a8f8f80d37794cde9472343e4487ba3eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f8f80d37794cde9472343e4487ba3eb">&#9670;&nbsp;</a></span>name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* name</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8556878012feffc9e0beb86cd78f424d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8556878012feffc9e0beb86cd78f424d">&#9670;&nbsp;</a></span>value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* value</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Oct 10 2022 21:47:44 for stumpless by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.19
</small></address>
</body>
</html>
